<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Pokeno Caller</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-white text-gray-900 min-h-screen">

  <div class="max-w-4xl mx-auto p-6 text-center">
    <!-- Title -->
    <h1 class="text-5xl font-extrabold mb-4 text-blue-900">Pokeno Caller</h1>
    <!-- Back to Apps -->
    <div class="flex justify-center mb-6">
      <a href="apps.html"
         class="inline-flex items-center gap-2 px-6 py-3 bg-blue-900 text-white rounded-xl font-extrabold text-xl shadow hover:bg-blue-800 focus:outline-none focus:ring-4 focus:ring-blue-300">
        ‚Üê Back to Apps
      </a>
    </div>

    <!-- Current Card -->
    <div id="cardDisplay"
         class="text-[8rem] md:text-[10rem] font-black my-10">
      üÇ†
    </div>

    <!-- Controls -->
    <div class="flex justify-center gap-4">
      <button id="nextBtn"
              class="bg-blue-600 hover:bg-blue-800 text-white text-2xl py-3 px-6 rounded-2xl shadow focus:outline-none focus:ring-4 focus:ring-blue-300">
        Next Card
      </button>
      <button id="resetBtn"
              class="bg-white border-4 border-blue-900 text-blue-900 text-2xl py-3 px-6 rounded-2xl shadow hover:bg-gray-50 focus:outline-none focus:ring-4 focus:ring-blue-300">
        Reset Game
      </button>
    </div>

    <!-- History -->
    <div id="history"
         class="mt-10 text-2xl text-gray-700 flex flex-wrap justify-center gap-3 max-w-3xl mx-auto">
    </div>
  </div>

  <script>
    const suits = ["‚ô†","‚ô•","‚ô¶","‚ô£"];
    const ranks = ["A","2","3","4","5","6","7","8","9","10","J","Q","K"];
    let deck = [];
    let history = [];

    function buildDeck() {
      deck = [];
      for (const s of suits) {
        for (const r of ranks) {
          deck.push({ rank: r, suit: s });
        }
      }
      shuffle(deck);
      history = [];
      updateHistory();
      document.getElementById("cardDisplay").textContent = "üÇ†";
      document.getElementById("cardDisplay").className =
        "text-[8rem] md:text-[10rem] font-black my-10";
    }

    function shuffle(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
    }

    function nextCard() {
      if (deck.length === 0) {
        document.getElementById("cardDisplay").textContent = "üèÜ";
        return;
      }
      const card = deck.pop();
      history.push(card);

      // Decide color
      const isRed = card.suit === "‚ô•" || card.suit === "‚ô¶";
      const colorClass = isRed ? "text-red-600" : "text-blue-900";

      document.getElementById("cardDisplay").innerHTML =
        `<span class="${colorClass}">${card.rank}${card.suit}</span>`;
      document.getElementById("cardDisplay").className =
        `text-[8rem] md:text-[10rem] font-black my-10 ${colorClass}`;

      updateHistory();
    }

    function updateHistory() {
      const histEl = document.getElementById("history");
      histEl.innerHTML = "";
      history.forEach(c => {
        const isRed = c.suit === "‚ô•" || c.suit === "‚ô¶";
        const colorClass = isRed ? "text-red-600" : "text-blue-900";
        const span = document.createElement("span");
        span.innerHTML = `<span class="${colorClass} font-bold">${c.rank}${c.suit}</span>`;
        span.className = "px-3 py-2 border border-blue-300 rounded-lg bg-white";
        histEl.appendChild(span);
      });
    }

    document.getElementById("nextBtn").addEventListener("click", nextCard);
    document.getElementById("resetBtn").addEventListener("click", buildDeck);

    buildDeck();
  </script>
</body>
</html>
