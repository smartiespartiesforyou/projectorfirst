<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Spin Wheel - ProjectorFirst</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* Simple, readable, BIG */
    :root { --size: min(94vw, 680px); }
    .wheel {
      width: var(--size);
      height: var(--size);
      border-radius: 50%;
      border: 12px solid #000;
      background:
        conic-gradient(
          #FFE066 0deg 60deg,
          #A0E59B 60deg 120deg,
          #FF9AA2 120deg 180deg,
          #9EC5FE 180deg 240deg,
          #FFE066 240deg 300deg,
          #A0E59B 300deg 360deg
        );
      box-shadow: 0 8px 0 #0003 inset;
      transition: transform 4.2s cubic-bezier(.2,.9,.1,1);
      position: relative;
      overflow: hidden;
    }
    .pointer {
      width: 0; height: 0;
      border-left: 22px solid transparent;
      border-right: 22px solid transparent;
      border-bottom: 36px solid #000;
      margin-bottom: 14px;
    }
    .label {
      position: absolute;
      left: 50%; top: 50%;
      transform-origin: left center;
      font-weight: 900;
      color: #000;
      background: rgba(255,255,255,.8);
      padding: .25rem .5rem;
      border-radius: .75rem;
      font-size: clamp(18px, 2.8vw, 32px);
      user-select: none;
      white-space: nowrap;
    }
    @media (prefers-reduced-motion: reduce) {
      .wheel { transition: none; }
    }
  </style>
</head>
<body class="bg-white text-black min-h-screen flex flex-col">

  <!-- Header with consistent Back to Apps -->
  <header class="w-full bg-black text-white">
    <div class="max-w-5xl mx-auto px-4 py-3 flex items-center justify-between">
      <a href="apps.html"
         class="inline-flex items-center gap-2 px-4 py-2 bg-white text-black rounded-2xl font-extrabold text-xl shadow focus:outline-none focus:ring-4 focus:ring-yellow-400">
        ← Back to Apps
      </a>
      <h1 class="text-2xl md:text-3xl font-extrabold">ProjectorFirst</h1>
      <span aria-hidden="true" class="opacity-0">spacer</span>
    </div>
  </header>

  <!-- Main -->
  <main class="flex-1 flex flex-col items-center pt-6 md:pt-10 px-4">
    <div class="pointer" aria-hidden="true"></div>

    <div id="wheel" class="wheel" role="group" aria-label="Prize Wheel"></div>

    <button id="spinBtn"
      class="mt-6 px-10 py-5 text-3xl bg-black text-white rounded-2xl shadow-lg font-extrabold focus:outline-none focus:ring-4 focus:ring-yellow-400">
      SPIN
    </button>

    <div id="result"
         class="mt-6 text-4xl font-extrabold"
         role="status" aria-live="polite"></div>
  </main>

  <script>
    // ======= Edit your labels here (include "No Win" where you want) =======
    const labels = ["$5 Gift", "No Win", "Sticker", "No Win", "$10 Gift", "Free Snack"];
    // =======================================================================

    const wheel = document.getElementById("wheel");
    const spinBtn = document.getElementById("spinBtn");
    const resultEl = document.getElementById("result");
    const seg = 360 / labels.length;

    // Place labels neatly on the wheel
    labels.forEach((text, i) => {
      const angle = i * seg + seg / 2;
      const el = document.createElement("div");
      el.className = "label";
      el.textContent = text;
      // move outward ~35% of radius, keep text upright
      el.style.transform = `rotate(${angle}deg) translate(calc(var(--size) * 0.33)) rotate(${-angle}deg)`;
      wheel.appendChild(el);
    });

    let rotation = 0;
    let locking = false;

    function pickIndex() {
      return Math.floor(Math.random() * labels.length);
    }

    function spin() {
      if (locking) return;
      locking = true;
      spinBtn.disabled = true;
      resultEl.textContent = "";

      const index = pickIndex();
      const centerAngle = index * seg + seg / 2;
      const spins = 6; // dramatic but not dizzying
      const target = spins * 360 + (270 - centerAngle); // pointer is at 270°

      rotation += target;
      wheel.style.transform = `rotate(${rotation}deg)`;

      wheel.addEventListener("transitionend", function done() {
        wheel.removeEventListener("transitionend", done);
        const prize = labels[index];
        resultEl.textContent = prize === "No Win" ? "No Win — Try Again!" : `You won: ${prize}!`;
        spinBtn.disabled = false;
        locking = false;
      }, { once: true });
    }

    spinBtn.addEventListener("click", spin);
  </script>
</body>
</html>
