<footer class="bg-gray-800 py-6 mt-12">
Â  <div class="max-w-6xl mx-auto px-4 text-center text-gray-400 text-sm">
Â  Â  Â© <span id="year"></span> ProjectorFirst â€¢ Big, Simple Apps for Nursing Homes & Senior Care
Â  </div>
</footer>
<script>
Â  document.getElementById('year').textContent = new Date().getFullYear();
</script>

<script>
let memberPlanId = "pln_30-day-free-trial-bz190lee"; // Your Free Trial Plan ID
let expiredRedirect = "/free-trial-expired"; // The page you just updated

document.addEventListener("DOMContentLoaded", async function() {
  const memberstack = window.$memberstackDom;
  const member = await memberstack.getMemberJSON();
  
  // Check if the member has the Free Trial plan
  const planConnections = member.planConnections || [];
  let hasPlan = planConnections.some(planConnection => planConnection.planId === memberPlanId);

  if (hasPlan) {
    // Check the free-trial-date field set 30 days ago
    let oneTimeDate = new Date(member.data['free-trial-date']);
    let currentDate = new Date();

    if (currentDate > oneTimeDate) {
      // ðŸš¨ Trial has expired! Remove the free plan and redirect
      memberstack.removePlan({ planId: memberPlanId })
        .then(() => {
          window.location.href = expiredRedirect;
        })
        .catch(error => {
          console.error("Error removing plan:", error);
        });
    }
  }
});
</script>
