<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Fortune Spin — ProjectorFirst</title>
  <meta name="description" content="Take turns guessing letters. Big, calm, projector-friendly."/>
  <meta name="theme-color" content="#1e3a8a"/>
  <link rel="icon" href="/logo.svg" type="image/svg+xml"/>

  <style>
    :root{
      --pf-blue:#1e3a8a;
      --pf-purple:#7c3aed;
      --pf-red:#dc2626;
      --pf-light:#f3f4f6;
    }

    *{ box-sizing:border-box; }

    body{
      margin:0;
      padding:16px;
      background:#ffffff;
      color:#000;
      font-family: ui-sans-serif, system-ui, -apple-system, sans-serif;
    }

    .page{
      max-width:1600px;
      margin:0 auto;
      display:flex;
      flex-direction:column;
      gap:16px;
    }

    /* Top */
    .top{
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:12px;
      flex-wrap:wrap;
    }

    .score{
      font-size:clamp(28px,3.2vw,54px);
      font-weight:900;
      color:var(--pf-blue);
      letter-spacing:1px;
      user-select:none;
    }

    .topBtns{
      display:flex;
      gap:10px;
    }

    .btn{
      font-size:clamp(18px,2vw,32px);
      font-weight:900;
      padding:12px 18px;
      border-radius:14px;
      border:3px solid #000;
      cursor:pointer;
      user-select:none;
      transition:transform .08s;
    }
    .btn:hover{ transform:scale(1.04); }

    .btn-blue{ background:var(--pf-blue); color:#fff; }
    .btn-purple{ background:var(--pf-purple); color:#fff; }
    .btn-red{ background:var(--pf-red); color:#fff; }

    /* Puzzle */
    .puzzle{
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:12px;
  margin-top:10px;
  width:100%;
}


    .row{
      display:flex;
      gap:10px;
      justify-content:center;
      flex-wrap:wrap;
    }

    .tile{
      width:clamp(56px,5.2vw,92px);
      height:clamp(68px,6.2vw,108px);
      border-radius:12px;
      border:3px solid #000;
      background:var(--pf-blue);
      display:flex;
      align-items:center;
      justify-content:center;
      user-select:none;
    }

    .tile.revealed{
      background:#fff;
    }

    .ch{
      font-size:clamp(28px,3.2vw,56px);
      font-weight:1000;
      line-height:1;
      color:#000;
    }

    .category{
      padding:8px 20px;
      border-radius:999px;
      background:var(--pf-blue);
      border:3px solid #000;
      color:#fff;
      font-weight:900;
      font-size:clamp(18px,2vw,34px);
      letter-spacing:1px;
      user-select:none;
    }

    /* Letters */
    .letters{
      margin-top:18px;
      display:grid;
      grid-template-columns:repeat(13,minmax(0,1fr));
      gap:10px;
    }
.lettersWrap{
  width:100%;
  display:flex;
  justify-content:center;
}

    .letterBtn{
      height:clamp(56px,4.8vw,88px);
      border-radius:14px;
      border:2px solid #000;
      background:#fff;
      font-size:clamp(20px,2.2vw,38px);
      font-weight:1000;
      cursor:pointer;
      user-select:none;
      transition:transform .08s,opacity .1s,background .1s;
    }
    .letterBtn:hover{ transform:scale(1.04); }

  .letterBtn.used{
  background:#000;
  color:#fff;
  cursor:default;
  transform:none;
}
.letterBtn.used:hover{
  transform:none;
}

    .letterBtn.hit{ background:#dcfce7; }
    .letterBtn.miss{ background:#fee2e2; }

    /* Bottom */
    .bottom{
      display:flex;
      justify-content:center;
      gap:12px;
      flex-wrap:wrap;
    }

    .status{
      text-align:center;
      min-height:1.6em;
      font-size:clamp(18px,1.8vw,30px);
      font-weight:900;
      user-select:none;
    }

    /* Overlay */
    .overlay{
      position:fixed;
      inset:0;
      background:rgba(0,0,0,.75);
      display:none;
      align-items:center;
      justify-content:center;
      padding:16px;
      z-index:9999;
    }

    .overlayCard{
      background:#fff;
      border:4px solid #000;
      border-radius:20px;
      padding:20px;
      max-width:900px;
      text-align:center;
    }

    .overlayTitle{
      font-size:clamp(26px,3vw,44px);
      font-weight:1000;
      color:var(--pf-blue);
    }

    .overlayText{
      margin-top:10px;
      font-size:clamp(18px,1.8vw,28px);
      font-weight:800;
      line-height:1.3;
    }

    .overlayHint{
      margin-top:10px;
      font-size:clamp(14px,1.4vw,22px);
      font-weight:800;
      opacity:.85;
    }

    @media(max-width:1100px){
      .letters{ grid-template-columns:repeat(10,minmax(0,1fr)); }
    }
  </style>
</head>

<body>
  <div class="page">

    <div class="top">
      <div class="score" id="score">SCORE: 0</div>
      <div class="topBtns">
  <a href="apps.html" class="btn btn-blue">⬅ Apps</a>
  <button class="btn btn-purple" id="fsBtn">Fullscreen</button>

</div>
      </div>



    <div class="puzzle">
      <div class="row" id="row"></div>
      <div class="category" id="category"></div>
    </div>

   <div class="lettersWrap">
  <div class="letters" id="letters"></div>
</div>


    <div class="bottom">
      <button class="btn btn-blue" id="solveBtn">Solve</button>
      <button class="btn btn-red" id="resetBtn">Reset</button>
    </div>

    <div class="status" id="status"></div>
  </div>

  <div class="overlay" id="overlay">
    <div class="overlayCard">
      <div class="overlayTitle">Fortune Spin</div>
      <div class="overlayText">
        Take turns guessing letters.<br/>
        Vowels can be guessed anytime.
      </div>
      <div class="overlayHint">
        Keys: A–Z guess • Enter = Solve • R = Reset • F = Fullscreen
      </div>
    </div>
  </div>

  <script>
    const PUZZLES=[
      {category:"PLACE",phrase:"FRONT PORCH"},
      {category:"THING",phrase:"CRAFT GLUE"},
      {category:"FOOD",phrase:"CHICKEN SOUP"},
      {category:"PHRASE",phrase:"TAKE IT ONE DAY AT A TIME"},
      {category:"HOLIDAY",phrase:"MARDI GRAS PARADE"}
    ];

    const ALPHA="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");
    let puzzle,revealed,guessed,score;

    const row=document.getElementById("row");
    const lettersDiv=document.getElementById("letters");
    const categoryDiv=document.getElementById("category");
    const status=document.getElementById("status");
    const scoreDiv=document.getElementById("score");
    const overlay=document.getElementById("overlay");

    const norm=s=>s.toUpperCase().replace(/[^A-Z\s]/g,"").replace(/\s+/g," ").trim();

    function start(){
      puzzle=PUZZLES[Math.floor(Math.random()*PUZZLES.length)];
      revealed=new Set();
      guessed=new Set();
      score=0;
      buildRow();
      buildLetters();
      update();
      status.textContent="";
    }

    function buildRow(){
      row.innerHTML="";
      for(const ch of norm(puzzle.phrase)){
        if(ch===" "){
          const gap=document.createElement("div");
          gap.style.width="24px";
          row.appendChild(gap);
        }else{
          const t=document.createElement("div");
          t.className="tile";
          const s=document.createElement("div");
          s.className="ch";
          t.appendChild(s);
          row.appendChild(t);
        }
      }
      categoryDiv.textContent=puzzle.category;
    }

    function buildLetters(){
      lettersDiv.innerHTML="";
      for(const L of ALPHA){
        const b=document.createElement("button");
        b.className="letterBtn";
        b.textContent=L;
        b.onclick=()=>guess(L,b);
        lettersDiv.appendChild(b);
      }
    }

    function update(){
      scoreDiv.textContent="SCORE: "+score;
      const tiles=[...row.querySelectorAll(".tile")];
      let i=0;
      for(const ch of norm(puzzle.phrase)){
        if(ch===" ") continue;
        const tile=tiles[i++];
        tile.classList.toggle("revealed",revealed.has(ch));
        tile.firstChild.textContent=revealed.has(ch)?ch:"";
      }
    }

    function guess(L,btn){
      if(guessed.has(L)) return;
      guessed.add(L);

      const phrase=norm(puzzle.phrase);
      const hits=[...phrase].filter(c=>c===L).length;

      btn.classList.add("used");
      if(hits){
        revealed.add(L);
        btn.classList.add("hit");
        score+=hits*100;
        status.textContent=`${L} appears ${hits} time${hits>1?"s":""}`;
      }else{
        btn.classList.add("miss");
        status.textContent=`${L} is not in the phrase`;
      }
      update();
    }

    document.getElementById("solveBtn").onclick=()=>{
      const g=prompt("Type the full phrase:");
      if(!g) return;
      if(norm(g)===norm(puzzle.phrase)){
        for(const ch of norm(puzzle.phrase)) if(ch!==" ") revealed.add(ch);
        status.textContent="Correct! Solved!";
        update();
      }else status.textContent="Not quite. Try again.";
    };

    document.getElementById("resetBtn").onclick=start;

    document.getElementById("fsBtn").onclick=()=>{
      if(!document.fullscreenElement) document.documentElement.requestFullscreen();
      else document.exitFullscreen();
    };

      document.addEventListener("keydown",e=>{
      if(e.code==="Enter") document.getElementById("solveBtn").click();
      if(e.code==="KeyR") start();
      if(e.code==="KeyF") document.getElementById("fsBtn").click();
      const k=e.key.toUpperCase();
      if(k>="A"&&k<="Z"){
        const btn=[...lettersDiv.children].find(b=>b.textContent===k);
        if(btn) btn.click();
      }
    });

    start();
  </script>
</body>
</html>
